<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="/layoutsFO/detailProduitLayout.xhtml">

	<ui:define name="body">
		<h:form id="detailProduit">
			<fieldset class="fieldsetBlanc">
			    <legend><h:outputLabel value="#{mbDetailProduit.produit.libelle}" /></legend>
				<p:panelGrid styleClass="panelDetailCommun">
					<p:row>
                        <p:column rowspan="#{mbDetailProduit.imageRowSpan}">
                            <p:graphicImage value="#{mbDetailProduit.produit.image}" />
                        </p:column>
	                    <p:column colspan="2" style="max-width:150px;">
	                        <h:outputLabel value="#{mbDetailProduit.produit.description}" />
	                    </p:column>
                        <p:column colspan="2">
                            <h:outputLabel value="Ajouter au panier :" />
                        </p:column>
					</p:row>
					<p:row>
	                    <p:column>
	                        <h:outputLabel value="Catégorie : #{mbDetailProduit.produit.categorie}" />
	                    </p:column>
	                    <p:column>
	                        <h:outputLabel value="Prix HT : " />
	                        <h:outputLabel value="#{mbDetailProduit.produit.prixHT}">
	                            <f:convertNumber type="currency" />
	                        </h:outputLabel>
	                    </p:column>
                        <p:column>
                            <h:outputLabel value="Quantité :" />                       
                            <p:spinner styleClass="quantiteVignetteDetail" value="#{mbDetailProduit.produit.quantite}" stepFactor="1" min="1" max="#{mbDetailProduit.produit.stock}" />
                       		<h:outputLabel value=" / #{mbDetailProduit.produit.stock}" />
                        </p:column>
					</p:row>
					<p:row>
					    <p:column>
					        <h:outputLabel value="TVA : " />
					        <h:outputLabel value="#{mbDetailProduit.produit.TVA}">
					           <f:convertNumber type="percent" maxFractionDigits="2" />
					        </h:outputLabel>
					    </p:column>
					    <p:column>
					        <h:outputLabel value="Prix TTC : " />
					        <h:outputLabel value="#{mbDetailProduit.produit.prixTTC}">
					            <f:convertNumber type="currency" />
					        </h:outputLabel>
					    </p:column>
                        <p:column colspan="2">
                            <p:commandButton value="Ajouter au panier" actionListener="#{mbPanier.ajoutPanier}" update=":panelPanierAccueil,:general_growl_form:general_growl">
                                <f:attribute name="produit" value="#{mbDetailProduit.produit.produit}" />
                                <f:attribute name="quantite" value="#{mbDetailProduit.produit.quantite}" />
                            </p:commandButton>
                        </p:column>
					</p:row>
				    <p:row rendered="#{mbDetailProduit.produit.isVin}">
				        <p:column>
				            <h:outputLabel value="Appelation : #{mbDetailProduit.produit.appelationVin}" />
				        </p:column>
				        <p:column>
				            <h:outputLabel value="Millesime : #{mbDetailProduit.produit.millesimeVin}" />
				        </p:column>
                        <p:column colspan="2" rowspan="3"></p:column>
				    </p:row>
				    <p:row rendered="#{mbDetailProduit.produit.isVin}">
				        <p:column>
				            <h:outputLabel value="Pays : #{mbDetailProduit.produit.paysVin}" />
				        </p:column>
				        <p:column>
				            <h:outputLabel value="Contenance : #{mbDetailProduit.produit.contenanceVin} cl" />
				        </p:column>
				    </p:row>
				    <p:row rendered="#{mbDetailProduit.produit.isVin}">
				        <p:column>
				            <h:outputLabel value="Région : #{mbDetailProduit.produit.regionVin}" />
				        </p:column>
				        <p:column>
				            <h:outputLabel value="Degrés : #{mbDetailProduit.produit.degresVin} °" />
				        </p:column>
				    </p:row>
                    <p:row rendered="#{mbDetailProduit.produit.isSpiritueux}">
                        <p:column>
                            <h:outputLabel value="Appelation : #{mbDetailProduit.produit.appellationSpiritueux}" />
                        </p:column>
                        <p:column>
                            <h:outputLabel value="Contenance : #{mbDetailProduit.produit.contenanceSpiritueux} cl" />
                        </p:column>
                        <p:column colspan="2" rowspan="2"></p:column>
                    </p:row>
                    <p:row rendered="#{mbDetailProduit.produit.isSpiritueux}">
                        <p:column>
                            <h:outputLabel value="Millesime : #{mbDetailProduit.produit.millesimeSpiritueux}" />
                        </p:column>
                        <p:column>
                            <h:outputLabel value="Degrés : #{mbDetailProduit.produit.degresSpiritueux} °" />
                        </p:column>
                    </p:row>
                    <p:row rendered="#{mbDetailProduit.produit.isAccessoire}">
                        <p:column>
                            <h:outputLabel value="Marque : #{mbDetailProduit.produit.marque}" />
                        </p:column>
                        <p:column>
                            <h:outputLabel value="Poids : #{mbDetailProduit.produit.poids} g" />
                        </p:column>
                        <p:column colspan="2"></p:column>
                    </p:row>
				</p:panelGrid>
			</fieldset>
		</h:form>
	</ui:define>
</ui:composition>
